<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: react/components/cart/CartForm.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: react/components/cart/CartForm.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react';
import { Field, reduxForm } from 'redux-form';
import {
  stateslist,
  normalizePostalCode,
  normalizePhone,
  shippingCartFormValidator,
  normalizeCardNumber,
  normalizeSecurityCode,
} from 'helpers';

import {
  TextField,
  AddressField,
  SelectField,
  Modal,
} from 'react/components/common';

const months = [
  'January',
  'February',
  'March',
  'April',
  'May',
  'June',
  'July',
  'August',
  'September',
  'October',
  'November',
  'December',
];

/**
 * @class
 * @description Form Component with shipping and card details
 * @extends {React.PureComponent}
 */
class CartForm extends React.PureComponent {
  constructor() {
    super();

    this.state = {
      isSame: true,
      tncAgreed: false,
      show_cvv_modal: false,
    };
  }

  /**
   * @memberof CartForm
   * @description generates a mapping of month numbers : month names
   * @function getMonthOptions
   * @returns {Array} array of month numbers : month names
   */
  getMonthOptions = () => {
    const monthOptions = {};
    [...Array(12).keys()].forEach(v => {
      monthOptions[v+1] = months[v];
    });
    return monthOptions;
  };

  /**
   * @memberof CartForm
   * @function getYearOptions
   * @returns {Array} array of next 6 months
   */
  getYearOptions = () => {
    const yearOptions = {};
    [18, 19, 20, 21, 22, 23, 24].forEach(v => {
      yearOptions[`20${v}`] = v;
    });
    return yearOptions;
  };

  /**
   * @memberof CartForm
   * @function
   * @description toggles the mondal show state
   */
  _toggleCVVModal = e => {
    e.preventDefault();
    this.setState({ show_cvv_modal: !this.state.show_cvv_modal });
  };

  /**
   * @memberof CartForm
   * @returns {} jsx
   */
  render() {
    const { props } = this;
    return (
      &lt;form
        onSubmit={props.handleSubmit}
        className="pure-form pure-form-aligned fv-form fv-form-pure"
      >
        &lt;div>
          &lt;button
            type="submit"
            className="fv-hidden-submit"
            style={{ display: 'none', width: '0px', height: '0px' }}
          />
          &lt;div className="sec1crt-frmlft">
            &lt;div className="form-top">
              &lt;img
                alt="hdng-icon"
                src="/static/assets/images/hdng-icon1.png"
                className="hdng-icon"
              />
              &lt;p className="txt2-chk">Shipping Information&lt;/p>
            &lt;/div>
            &lt;p className="sec1crt-frmlft__ship-info">
              All packages are shipped via Standard Shipping and are estimated
              to arrive within 3-5 business days from the day you place order.
            &lt;/p>
            &lt;div className="form-content">
              &lt;Field
                component={TextField}
                name="FirstName"
                label="First Name*"
                placeholder="First name"
                icon="/static/assets/images/frmicon1.png"
                large
              />
              &lt;Field
                component={TextField}
                name="LastName"
                label="Last Name*"
                placeholder="Last name"
                icon="/static/assets/images/frmicon1.png"
                large
              />
              &lt;Field
                component={TextField}
                name="Email"
                label="Email*"
                placeholder="Example: email@somewhere.com"
                icon="/static/assets/images/frmicon3.png"
                large
              />
              &lt;Field
                component={AddressField}
                name="Address1"
                label="Address Line 1*"
                placeholder="Street and number, P.O. box, c/o."
                icon="/static/assets/images/frmicon5.png"
                changeField={this.props.change}
                large
              />
              &lt;Field
                component={TextField}
                name="Address2"
                label="Address Line 2"
                placeholder="Apartment, suite, unit, building, floor, etc."
                icon="/static/assets/images/frmicon5.png"
                large
              />
              &lt;Field
                containerClass="short1"
                component={SelectField}
                name="State"
                label="State*"
                placeholder="Select State"
                options={stateslist}
                icon="/static/assets/images/frmicon7.png"
                large
              />
              &lt;Field
                containerClass="short2"
                component={TextField}
                name="City"
                label="City*"
                placeholder="Your City"
                icon="/static/assets/images/frmicon6.png"
                large
              />
              &lt;Field
                containerClass="short1"
                component={TextField}
                name="ZipCode"
                label="Zip Code*"
                placeholder="Zip Code"
                normalize={normalizePostalCode}
                icon="/static/assets/images/frmicon8.png"
                large
              />
              &lt;Field
                containerClass="short2"
                component={TextField}
                name="Phone"
                label="Phone Number*"
                placeholder="Example: (123) 555-6789"
                normalize={normalizePhone}
                icon="/static/assets/images/frmicon4.png"
                large
              />
            &lt;/div>
          &lt;/div>
        &lt;/div>
        &lt;div>
          &lt;button
            type="submit"
            className="fv-hidden-submit"
            style={{ display: 'none', width: '0px', height: '0px' }}
          />
          &lt;div className="sec1crt-frmrgt">
            &lt;div className="form-top">
              &lt;img
                alt="hdng-icon"
                src="/static/assets/images/hdng-icon2.png"
                className="hdng-icon"
              />
              &lt;p className="txt2-chk">Payment Information&lt;/p>
            &lt;/div>
            &lt;div className="form-content">
              {/*
                TODO: might be used later when there is the case that
                billing andshipping have different addresses

                &lt;p className="billing-toggle-txt">
                  &lt;input
                    className="chkbx-chk"
                    id="billing_same"
                    checked={this.state.isSame}
                    type="checkbox"
                    onChange={() => {
                      this.setState({ isSame: !this.state.isSame });
                    }}
                  />
                  Billing Address is the same as Shipping Address
                &lt;/p>
              */}
              {!this.state.isSame &amp;&amp; (
                &lt;div id="billingflds">
                  &lt;Field
                    component={TextField}
                    name="shipping.FirstName"
                    label="First Name*"
                    placeholder="First Name"
                    icon="/static/assets/images/frmicon1.png"
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="shipping.LastName"
                    label="Last Name*"
                    placeholder="Last Name"
                    icon="/static/assets/images/frmicon1.png"
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="Email"
                    label="Email*"
                    placeholder="Example: email@somewhere.com"
                    icon="/static/assets/images/frmicon3.png"
                    large
                  />
                  &lt;Field
                    component={AddressField}
                    name="shipping.Address1"
                    label="Address Line 1*"
                    placeholder="Street and number, P.O. box, c/o."
                    icon="/static/assets/images/frmicon5.png"
                    changeField={this.props.change}
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="shipping.Address2"
                    label="Address Line 2"
                    placeholder="Apartment, suite, unit, building, floor, etc."
                    icon="/static/assets/images/frmicon5.png"
                    large
                  />
                  &lt;Field
                    component={SelectField}
                    name="shipping.State"
                    label="State*"
                    placeholder="State"
                    options={stateslist}
                    icon="/static/assets/images/frmicon7.png"
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="shipping.City"
                    label="City*"
                    placeholder="Your City"
                    icon="/static/assets/images/frmicon6.png"
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="shipping.ZipCode"
                    label="Zip Code*"
                    placeholder="Zip Code"
                    normalize={normalizePostalCode}
                    icon="/static/assets/images/frmicon8.png"
                    large
                  />
                  &lt;Field
                    component={TextField}
                    name="Phone"
                    label="Phone*"
                    placeholder="Example: (123) 555-6789"
                    normalize={normalizePhone}
                    icon="/static/assets/images/frmicon4.png"
                    large
                  />
                &lt;/div>
              )}
              &lt;div className="cards">
                &lt;span className="card-visa">
                  &lt;img src="/static/assets/images/card-visa.png" alt="" />
                &lt;/span>
                &lt;span className="card-mastercard">
                  &lt;img src="/static/assets/images/card-mastercard.png" alt="" />
                &lt;/span>
                &lt;span className="card-amex">
                  &lt;img src="/static/assets/images/card-amex.png" alt="" />
                &lt;/span>
              &lt;/div>
              &lt;Field
                component={TextField}
                name="order.cardNumber"
                className="creditcard"
                placeholder="•••• •••• •••• ••••"
                label="Card Number*"
                normalize={normalizeCardNumber}
                large
              />
              &lt;Field
                containerClass="short1"
                component={SelectField}
                name="order.cardMonth"
                label="Expiration Month*"
                placeholder="- -"
                options={this.getMonthOptions()}
                large
              />
              &lt;Field
                containerClass="short2"
                component={SelectField}
                name="order.cardYear"
                label="Expiration Year*"
                placeholder="- -"
                options={this.getYearOptions()}
                large
              />
              &lt;Field
                containerClass="frmelements short1 mob-sort frm-elem-cvv"
                placeholder="123"
                component={TextField}
                label="CVV/CID*"
                name="order.cardSecurityCode"
                normalize={normalizeSecurityCode}
                large
              />
              &lt;div className="frmelements short2 mob-sort">
                &lt;a
                  href="javascript:;"
                  className="whats-this"
                  style={{ marginTop: '55px' }}
                  onClick={this._toggleCVVModal}
                >
                  What is this?{' '}
                &lt;/a>
              &lt;/div>
              &lt;p className="billing-toggle-txt">
                &lt;input
                  id="agree_terms"
                  name="agree_terms"
                  className="chkbx-chk"
                  checked={this.state.tncAgreed}
                  type="checkbox"
                  required="true"
                  onChange={() =>
                    this.setState({ tncAgreed: !this.state.tncAgreed })
                  }
                />
                I agree to the Terms &amp;amp; Conditions &amp;amp; Privacy Policy.{' '}
                &lt;br />
                All charges on your bank statement will appear as &amp;quot;American
                Science CBD 8883138529&amp;quot;
              &lt;/p>
              &lt;div className="clearall" />
              &lt;div className="frmelements btn-element">
                &lt;button
                  className="btn-payment-send"
                  onSubmit={props.handleSubmit}
                >
                  &lt;img
                    alt="btn"
                    src="/static/assets/images/btn.png"
                    className="button-crt"
                    id="cart_submit"
                  />
                &lt;/button>
              &lt;/div>
              &lt;center>
                &lt;img
                  alt="postal"
                  src="/static/assets/images/postal-crt.png"
                  className="postal-crt"
                />
              &lt;/center>
            &lt;/div>
          &lt;/div>
        &lt;/div>
        {this.state.show_cvv_modal &amp;&amp; (
          &lt;Modal onClose={this._toggleCVVModal}>
            CVV/CID
            &lt;center>
              &lt;img src="/static/promo/common/cvv.jpg" alt="" />
            &lt;/center>
          &lt;/Modal>
        )}
      &lt;/form>
    );
  }
}

const CartFormContainer = reduxForm({
  form: 'CartForm',
  validate: shippingCartFormValidator,
})(CartForm);

export { CartFormContainer };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AddressField.html">AddressField</a></li><li><a href="CardExpiryField.html">CardExpiryField</a></li><li><a href="Cart.html">Cart</a></li><li><a href="CartContainer.html">CartContainer</a></li><li><a href="CartForm.html">CartForm</a></li><li><a href="ChooseProductsForm.html">ChooseProductsForm</a></li><li><a href="ContactUs.html">ContactUs</a></li><li><a href="Footer.html">Footer</a></li><li><a href="Header.html">Header</a></li><li><a href="MobileCardExpiryField.html">MobileCardExpiryField</a></li><li><a href="MobileConfirmContainerComponent.html">MobileConfirmContainerComponent</a></li><li><a href="MobileSelectPackageContainer.html">MobileSelectPackageContainer</a></li><li><a href="MobileShippingContainerComponent.html">MobileShippingContainerComponent</a></li><li><a href="Modal.html">Modal</a></li><li><a href="PromoCheckoutPaymentFormClass.html">PromoCheckoutPaymentFormClass</a></li><li><a href="PromoDesktop.html">PromoDesktop</a></li><li><a href="PromoMobileContainer.html">PromoMobileContainer</a></li><li><a href="ThankyouDesktopComponent.html">ThankyouDesktopComponent</a></li><li><a href="ThankyouMobileComponent.html">ThankyouMobileComponent</a></li><li><a href="Upsell1Component.html">Upsell1Component</a></li><li><a href="Upsell2.html">Upsell2</a></li><li><a href="Upsell11Component.html">Upsell11Component</a></li><li><a href="Upsell21.html">Upsell21</a></li><li><a href="UpsellDesktopContainerComponent.html">UpsellDesktopContainerComponent</a></li><li><a href="UpsellMobileContainerComponent.html">UpsellMobileContainerComponent</a></li></ul><h3>Namespaces</h3><ul><li><a href="api-helpers.html">api-helpers</a></li><li><a href="helpers.html">helpers</a></li><li><a href="orderSaga.html">orderSaga</a></li><li><a href="server-middleware.html">server-middleware</a></li><li><a href="sessionSaga.html">sessionSaga</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getSessionId">getSessionId</a></li><li><a href="global.html#Link">Link</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jun 18 2018 13:49:45 GMT+0530 (IST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
